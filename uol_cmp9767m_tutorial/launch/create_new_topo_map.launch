<?xml version="1.0"?>
<launch>
  <arg name="db_path" /><!--default="$(optenv HOME)/mongodb" /-->
  <arg name="tmap" />
  <arg name="robot_name" default="thorvald_001" />
  <arg name="pointset" default="$(arg tmap)" />

  <include file="$(find mongodb_store)/launch/mongodb_store.launch" >
    <arg name="db_path" value="$(arg db_path)" />
  </include>

  <group ns="$(arg robot_name)">
    <include file="$(find topological_navigation)/launch/topological_navigation_empty_map.launch">
      <arg name="map" value="$(arg tmap)" />

      <remap from="/monitored_navigation/goal" to="monitored_navigation/goal" />
      <remap from="/monitored_navigation/cancel" to="monitored_navigation/cancel" />
      <remap from="/move_base/DWAPlannerROS/set_parameters" to="move_base/DWAPlannerROS/set_parameters" />
      <remap from="/monitored_navigation/add_helper" to="monitored_navigation/add_helper" />
      <remap from="/monitored_navigation/add_monitor_recovery_pair" to="monitored_navigation/add_monitor_recovery_pair" />
      <remap from="/monitored_navigation/del_helper" to="monitored_navigation/del_helper" />
      <remap from="/monitored_navigation/del_monitor_recovery_pair" to="monitored_navigation/del_monitor_recovery_pair" />
      <remap from="/monitored_navigation/get_helpers" to="monitored_navigation/get_helpers" />
      <remap from="/monitored_navigation/get_monitor_recovery_pairs" to="monitored_navigation/get_monitor_recovery_pairs" />
      <remap from="/monitored_navigation/get_nav_recovery" to="monitored_navigation/get_nav_recovery" />
      <remap from="/monitored_navigation/human_help" to="monitored_navigation/human_help" />
      <remap from="/monitored_navigation/set_helpers" to="monitored_navigation/set_helpers" />
      <remap from="/monitored_navigation/set_monitor_recovery_pairs" to="monitored_navigation/set_monitor_recovery_pairs" />
      <remap from="/monitored_navigation/set_nav_recovery" to="monitored_navigation/set_nav_recovery" />

      <remap from="/robot_pose" to="robot_pose" />
      <remap from="/closest_node" to="closest_node" />
      <remap from="/current_node" to="current_node" />
      <remap from="/current_edge" to="current_edge" />

      <remap from="/topological_navigation/Route" to="topological_navigation/Route" />
      <remap from="/topological_navigation/Statistics" to="topological_navigation/Statistics" />
      <remap from="/topological_navigation/Edge" to="topological_navigation/Edge" />
      <remap from="/topological_navigation/action_topics" to="topological_navigation/action_topics" />
      <param name="retries" type="int" value="$(arg topological_navigation_retries)"/>
      <param name="move_base_reconf_service" type="str" value="$(arg move_base_reconf_service)"/>
      <remap from="/move_base/DWAPlannerROS/set_parameters" to="move_base/DWAPlannerROS/set_parameters" />
      <remap from="/move_base/DWAPlannerROS/parameter_descriptions" to="move_base/DWAPlannerROS/parameter_descriptions" />
      <remap from="/move_base/DWAPlannerROS/parameter_updates" to="move_base/DWAPlannerROS/parameter_updates" />
    </include>

  </group>

</launch>
